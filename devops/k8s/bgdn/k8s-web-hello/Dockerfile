# создается из базового образа node
FROM node:alpine

#рабочая директория внутри образа
WORKDIR /app

# порт, который контейнер будет публиковать
EXPOSE 3000

# копируем эти файлы в WORKDIR внутри образа, ./ - это уже рабочая директория внутри образа (то есть /app)
COPY package.json package-lock.json ./

# выполняем команду внутри образа   
RUN npm install

# все файлы из нашего рабочего проекта будут скопированы в образ при его создании
COPY . ./

# когда контейнер будет запускаться на основании образа будет выполняться команда npm start
CMD ["npm", "start"]
